<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Chat</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="cmd_styles.css">
    <link rel="stylesheet" href="mobile_styles.css">
    <link rel="stylesheet" type='text/css' href="https://cdn.jsdelivr.net/gh/devicons/devicon@latest/devicon.min.css" />
</head>
<body style="padding: 0; overflow: hidden;">
    <div class="full-screen-layout" style="grid-template-columns: 1fr; grid-template-rows: auto 1fr; gap: 0; height: 100vh; padding: 10px;">
        <header style="margin-bottom: 0; padding-bottom: 10px; display: flex; justify-content: space-between; border-bottom: 1px solid var(--border-color); align-items: center;">
            <div style="font-family: 'Consolas', 'Courier New', monospace; font-weight: bold;">C:\> AI_Chat.exe</div>
            
            <div style="display: flex; gap: 10px; align-items: center;">
                <div class="theme-controls">
                    <span style="margin-right: 5px; font-size: 0.8em;">Theme:</span>
                    <button class="cmd-btn" onclick="setCmdTheme('theme-cmd-white')" title="Black & White">B/W</button>
                    <button class="cmd-btn" onclick="setCmdTheme('theme-cmd-green')" title="Black & Green">GRN</button>
                    <button class="cmd-btn" onclick="setCmdTheme('theme-cmd-red')" title="Black & Red">RED</button>
                </div>
                <button id="configBtn" class="cmd-btn" title="Configuration">[Config]</button>
            </div>
        </header>

        <!-- Configuration Modal -->
        <div id="configModal" class="modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h2>SYSTEM_CONFIG</h2>
                    <span id="closeConfigBtn" class="close">&times;</span>
                </div>
                <div class="modal-body">
                    <div class="form-group">
                        <label for="aiKeyInput">API_KEY (OpenRouter)</label>
                        <input type="password" id="aiKeyInput" class="text-input" placeholder="sk-or-...">
                        <p style="font-size: 0.8rem; margin-top: 5px; opacity: 0.7;">
                            Required for AI functionality. Keys are stored locally. 
                            <a href="https://openrouter.ai/keys" target="_blank" style="color: var(--primary-color);">[GET_NEW_KEY]</a>
                        </p>
                    </div>
                    <button id="saveConfigBtn" class="btn">[SAVE_CHANGES]</button>
                </div>
            </div>
        </div>

        <div class="chat-section" style="display: flex; flex-direction: column; height: 100%; width: 100%; padding: 0; overflow: hidden;">
            <div id="chatHistory" class="chat-history" style="flex-grow: 1; overflow-y: auto; padding: 20px; border: none; border-radius: 0; background: transparent; margin-bottom: 0;">
                <!-- Chat messages will appear here -->
                <div class="chat-welcome" style="text-align: center; opacity: 0.7; margin-top: 50px;">
                    <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-bottom: 10px;"><rect width="18" height="10" x="3" y="11" rx="2"/><circle cx="12" cy="5" r="2"/><path d="M12 7v4"/><line x1="8" x2="8" y1="16" y2="16"/><line x1="16" x2="16" y1="16" y2="16"/></svg>
                    <p>Start a conversation with the AI...</p>
                </div>
                
                <!-- Input Area (Moved Inside History) -->
                <div id="chatInputArea" class="chat-input-area" style="display: flex; gap: 0px; align-items: flex-start; padding: 0; border: none; background: transparent; width: 100%; margin-top: 10px;">
                    <span class="cmd-prompt" style="padding-top: 0px; padding-right: 0px; color: var(--text-color); font-family: inherit; font-weight: normal; user-select: none;">C:\Users\Admin&gt;&nbsp;</span>
                    <textarea id="chatInput" class="text-input" placeholder="" rows="1" style="flex-grow: 1; min-height: 24px; resize: none; border: none; background: transparent; padding: 0; overflow-y: hidden; font-family: inherit; color: var(--text-color); outline: none; caret-color: var(--text-color); border-radius: 0;"></textarea>
                </div>
            </div>
        </div>
    </div>

    <script src="config.js"></script>
    <script src="app.js"></script>
</body>
</html>